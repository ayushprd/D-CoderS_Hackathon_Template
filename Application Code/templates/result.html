<!DOCTYPE html>
<html>
    <head>
        <title>Result Page</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    </head>
    <body>
        <div class="jumbotron jumbotron-fluid">
            <div class="container">
              <h1 class="display-4" id="wrapper" style="font-family: sans-serif; text-align: center;">RESULTS</h1>
               <h1>Description of event is: {{ sanswer.desc }}  </h1>
               <h1>Date of event is {{ sanswer.date}}      </h1>
            </div>
          </div>
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script>

        var place=document.getElementById("wrapper")
        var desc={{ sanswer.desc|tojson}}
        var date1={{ sanswer.date|tojson}}
        console.log(k);
        var date2=new Date()
        var val=((date2 - date1)/(1000*60*60))
        var names={{ sanswer.title|tojson}}
        var data='<div id="countdown"><div class="well"><span id="hour" class="timer bg-success"></span><span id="min" class="timer bg-info"></span><span id="sec" class="timer bg-primary"></span></div></div>';
        var modal='<div class="modal fade container-fluid" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true"><div class="modal-dialog modal-dialog-centered" role="document"><div class="modal-content">    <div class="modal-header"><h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body">...</div><div class="modal-footer footer">'+data+'<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button><button type="button" class="btn btn-primary">Remind Me</button></div></div></div></div>';
        var card='<div class="card mb-4 text-black bg-light" id ="'+names+'">'+
            '<img class="card-img-top" src="upcoming.jpg" alt="Card image">'+
                '<div class="card-body">'+
                    '<h4 class="card-title">'+names+'</h4>'+
                    '<p class="card-text">'+desc+'.</p>'+
                    '<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">Read More</button>'+
                '</div>'
        console.log(val)
        if(val<0){ 
            var v=Math.floor(Math.abs(val/24));
            if(v>30){
                v=Math.ceil(Math.abs(val/30))
                card=card+'<div class="card-footer text-muted text-center">'+v+' month(s) to go</div></div>'
            }else{
                card=card+'<div class="card-footer text-muted ">'+v+' day(s)to go</div></div>'
            }
           // card=card+modal;
        }else if(val<24 && val>0){
            card=card+'<div class="card-footer text-muted "> Event Ongoin</div></div>'
        }else{
            var v=Math.floor(Math.abs(val/24));
            card=card+'<div class="card-footer text-muted ">'+v+' day(s) ago</div></div>'      
        }

        place.className="mx-auto my-auto";
        place.innerHTML=card;
    </script>
    </body>
</html>